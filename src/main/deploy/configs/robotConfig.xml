<!-- 5516 -->
<robotConfig>
    <hardware>
        <chassisOnCanivore>0</chassisOnCanivore>
        <frontLeftWheelDriveMotor type="int">8</frontLeftWheelDriveMotor>
        <frontLeftWheelSteerMotor type="int">7</frontLeftWheelSteerMotor>
        <frontLeftWheelSteerMotorReversed type="int">1</frontLeftWheelSteerMotorReversed>
        <frontLeftWheelEncoder type="int">12</frontLeftWheelEncoder>
        <frontLeftWheelSteerEncoderReversed type="int">0</frontLeftWheelSteerEncoderReversed>

        <frontRightWheelDriveMotor type="int">1</frontRightWheelDriveMotor>
        <frontRightWheelSteerMotor type="int">2</frontRightWheelSteerMotor>
        <frontRightWheelSteerMotorReversed type="int">1</frontRightWheelSteerMotorReversed>
        <frontRightWheelEncoder type="int">9</frontRightWheelEncoder>
        <frontRightWheelSteerEncoderReversed type="int">0</frontRightWheelSteerEncoderReversed>

        <backLeftWheelDriveMotor type="int">6</backLeftWheelDriveMotor>
        <backLeftWheelSteerMotor type="int">5</backLeftWheelSteerMotor>
        <backLeftWheelSteerMotorReversed type="int">1</backLeftWheelSteerMotorReversed>
        <backLeftWheelEncoder type="int">11</backLeftWheelEncoder>
        <backLeftWheelSteerEncoderReversed type="int">0</backLeftWheelSteerEncoderReversed>

        <backRightWheelDriveMotor type="int">3</backRightWheelDriveMotor>
        <backRightWheelSteerMotor type="int">4</backRightWheelSteerMotor>
        <backRightWheelSteerMotorReversed type="int">1</backRightWheelSteerMotorReversed>
        <backRightWheelEncoder type="int">10</backRightWheelEncoder>
        <backRightWheelSteerEncoderReversed type="int">0</backRightWheelSteerEncoderReversed>

        <gyroPort type="int">15</gyroPort>

        <!-- the zero position of encoders, to measure this value, turn the wheel to the direct front, and see the value of encoder.getRawSensorReading() -->
        <frontLeftWheelZeroPosition type = "double">0.711</frontLeftWheelZeroPosition>
        <frontRightWheelZeroPosition type = "double">1.90</frontRightWheelZeroPosition>
        <backLeftWheelZeroPosition type = "double">3.48</backLeftWheelZeroPosition>
        <backRightWheelZeroPosition type = "double">0.09</backRightWheelZeroPosition>
    </hardware>
    <chassis>
        <!-- all units are in meters -->
        <wheelDiameter type="double">0.1016</wheelDiameter>
        <wheelGearRatio type="double">6.12</wheelGearRatio>
        <encoderValuePerMotorRevolution type="double">2048</encoderValuePerMotorRevolution>

        <!-- robot physical features -->
        <robotMaximumSpeed type="double">4.8</robotMaximumSpeed>
        <motorMaximumAcceleration type="double">12</motorMaximumAcceleration>
        <robotMass type="double">75</robotMass>
        <floorFrictionAcceleration type="double">10</floorFrictionAcceleration>
        <robotMaxAngularVelocity type="double">600</robotMaxAngularVelocity>
        <robotMaxAngularAcceleration type="double">1200</robotMaxAngularAcceleration>
        <timeChassisStopsRotating>0.4</timeChassisStopsRotating>
        <width>0.8</width>
        <height>0.8</height>

        <!-- PID coefficients for steer wheels -->
        <steerWheelErrorTolerance type = "double">1</steerWheelErrorTolerance> <!-- the amount of error to ignore, in degrees -->
        <steerWheelErrorStartDecelerate type = "double">60</steerWheelErrorStartDecelerate> <!-- the amount of error where the motors should try to correct using full motor speed, in degrees -->
        <steerWheelMaximumPower type = "double">0.85</steerWheelMaximumPower> <!-- use this value as the full speed -->
        <steerWheelMinimumPower type = "double">0.03</steerWheelMinimumPower> <!-- this is the minimum amount of motor speed needed to turn the steer, in percentage of the full speed -->
        <steerWheelFeedForwardTime type = "double">0</steerWheelFeedForwardTime>
<!--        <steerCorrectionPowerRateAtZeroWheelSpeed type="double">0.4</steerCorrectionPowerRateAtZeroWheelSpeed>-->
<!--        <steerCorrectionPowerFullWheelSpeed type="'double">0.4</steerCorrectionPowerFullWheelSpeed>-->
        <!-- here we disable smart steer PID -->
        <steerCorrectionPowerRateAtZeroWheelSpeed type="double">1</steerCorrectionPowerRateAtZeroWheelSpeed>
        <steerCorrectionPowerFullWheelSpeed type="'double">1</steerCorrectionPowerFullWheelSpeed>

        <!-- low speed mode -->
        <lowSpeedModeTranslationalCommandScale>0.75</lowSpeedModeTranslationalCommandScale>

        <!-- profiled translational velocity controller -->
        <translationalTaskUpdatableRange type="double">0.1</translationalTaskUpdatableRange>
        <ignoredAccelerateTime type="double">0.08</ignoredAccelerateTime>
        <timeNeededToFullyAccelerate type="double">0.5</timeNeededToFullyAccelerate>
        <robotSpeedActivateSpeedControl type="double">1.01</robotSpeedActivateSpeedControl>

        <!-- smart wheel speed control -->
        <wheelsPowerConstrain type="double">1</wheelsPowerConstrain>
        <wheelsPowerConstrainAtLowSpeedMode>0.4</wheelsPowerConstrainAtLowSpeedMode>
        <rotationalSpeedMaxSacrifice type="double">0.25</rotationalSpeedMaxSacrifice>

        <!-- the configuration for rotation controller -->
        <timeLockRotationAfterRotationalInputStops>0.45</timeLockRotationAfterRotationalInputStops>
        <robotRotationalErrorTolerance type="double">0</robotRotationalErrorTolerance> <!-- in degrees -->
        <robotRotationalErrorStartDecelerate type="double">60</robotRotationalErrorStartDecelerate> <!-- in degrees -->
        <robotRotationMaximumCorrectionPower type="double">0.6</robotRotationMaximumCorrectionPower>
        <robotRotationMinimumCorrectionPower type="double">0</robotRotationMinimumCorrectionPower>
        <robotRotationFeedForwardTime type="double">0.4</robotRotationFeedForwardTime> <!-- in seconds -->
        <rotationalErrorAsCommandFinished>3</rotationalErrorAsCommandFinished>

        <!-- position controller(auto stage) -->
        <robotPositionErrorTolerance type="double">0.02</robotPositionErrorTolerance> <!-- in meters -->
        <robotPositionErrorStartDecelerate type="double">0.9</robotPositionErrorStartDecelerate> <!-- in meters -->
        <robotPositionMaximumCorrectionPower type="double">1.05</robotPositionMaximumCorrectionPower>
        <robotPositionMinimumCorrectionPower type="double">0.03</robotPositionMinimumCorrectionPower>
        <robotPositionFeedForwardTime type="double">0.08</robotPositionFeedForwardTime> <!-- in seconds -->
        <translationalErrorAsCommandFinished>0.06</translationalErrorAsCommandFinished>

        <!-- the configuration of steer wheels -->
        <maxUnusedTime type="double">1</maxUnusedTime> <!-- the amount of time that the steer wheel will wait when not used until they go back to default position -->
        <defaultPosition type="double">90</defaultPosition> <!--to straight forward-->
        <minUsageSpeed type="double">0.05</minUsageSpeed>
    </chassis>

    <auto>
        <autoStageMaxAcceleration type="double">12</autoStageMaxAcceleration>
        <autoStageMaxVelocity type="double">4.8</autoStageMaxVelocity>
        <autoStageMaxAngularVelocity type="double">160</autoStageMaxAngularVelocity> <!-- in deg/s -->

        <inAdvanceTime>0.4</inAdvanceTime>

        <shootingSegmentSpeedFactor>0.3</shootingSegmentSpeedFactor>
        <additionalRotationInAdvanceTime>0.3</additionalRotationInAdvanceTime>
    </auto>

    <!-- the config for xbox controller, currently using radio master in replace -->
    <control-RM_POCKET>
        <controllerPort type="int">0</controllerPort>
        <xAxisPort type="int">0</xAxisPort>
        <yAxisPort type="int">1</yAxisPort>
        <zAxisPort type="int">3</zAxisPort>

        <pilotControllerXAxisSensitivity type="int">100</pilotControllerXAxisSensitivity>
        <pilotControllerYAxisSensitivity type="int">100</pilotControllerYAxisSensitivity>
        <pilotControllerZAxisSensitivity type="int">-65</pilotControllerZAxisSensitivity>
        <!-- the minimum amount of stick input to respond to, in percentage -->
        <pilotStickThresholdWhenOtherAxisUnused>5</pilotStickThresholdWhenOtherAxisUnused>
        <pilotStickThresholdWhenOtherAxisFull>8</pilotStickThresholdWhenOtherAxisFull>
        <pilotTranslationalAxisExponent>1.6</pilotTranslationalAxisExponent>
        <pilotRotationalAxisExponent>2</pilotRotationalAxisExponent>

        <!-- key bindings -->
        <translationAutoPilotButton type="int">2</translationAutoPilotButton>
        <rotationAutoPilotButton type="int">1</rotationAutoPilotButton>
        <lockChassisButtonPort type="int">3</lockChassisButtonPort>
    </control-RM_POCKET>
    <control-RM_BOXER>
        <controllerPort type="int">0</controllerPort>
        <xAxisPort type="int">0</xAxisPort>
        <yAxisPort type="int">1</yAxisPort>
        <zAxisPort type="int">3</zAxisPort>

        <pilotControllerXAxisSensitivity type="int">100</pilotControllerXAxisSensitivity>
        <pilotControllerYAxisSensitivity type="int">120</pilotControllerYAxisSensitivity>
        <pilotControllerZAxisSensitivity type="int">-65</pilotControllerZAxisSensitivity>
        <!-- the minimum amount of stick input to respond to, in percentage -->
        <pilotStickThresholdWhenOtherAxisUnused>5</pilotStickThresholdWhenOtherAxisUnused>
        <pilotStickThresholdWhenOtherAxisFull>8</pilotStickThresholdWhenOtherAxisFull>
        <pilotTranslationalAxisExponent>1.6</pilotTranslationalAxisExponent>
        <pilotRotationalAxisExponent>2</pilotRotationalAxisExponent>

        <!-- key bindings -->
        <translationAutoPilotButton type="int">5</translationAutoPilotButton>
        <lockChassisButtonPort type="int">3</lockChassisButtonPort>
        <rotationAutoPilotButton type="int">4</rotationAutoPilotButton>
    </control-RM_BOXER>
    <control-JOYSTICK>
        <controllerPort type="int">1</controllerPort>
        <xAxisPort type="int">0</xAxisPort>
        <yAxisPort type="nt">1</yAxisPort>
        <zAxisPort type="int">2</zAxisPort>

        <pilotControllerXAxisSensitivity>80</pilotControllerXAxisSensitivity>
        <pilotControllerYAxisSensitivity>-100</pilotControllerYAxisSensitivity>
        <pilotControllerZAxisSensitivity>-40</pilotControllerZAxisSensitivity>
        <!-- the minimum amount of stick input to respond to, in percentage -->
        <pilotStickThresholdWhenOtherAxisUnused>8</pilotStickThresholdWhenOtherAxisUnused>
        <pilotStickThresholdWhenOtherAxisFull>12</pilotStickThresholdWhenOtherAxisFull>
        <pilotTranslationalAxisExponent>1.8</pilotTranslationalAxisExponent>
        <pilotRotationalAxisExponent>2</pilotRotationalAxisExponent>

        <translationAutoPilotButton type="int">11</translationAutoPilotButton>
        <lockChassisButtonPort type="int">4</lockChassisButtonPort>
        <rotationAutoPilotButton type="int">3</rotationAutoPilotButton>
    </control-JOYSTICK>

    <control-XBOX>
        <controllerPort type="int">1</controllerPort>
        <xAxisPort type="int">4</xAxisPort>
        <yAxisPort type="int">5</yAxisPort>
        <zAxisPort type="int">0</zAxisPort>

        <pilotControllerXAxisSensitivity>100</pilotControllerXAxisSensitivity>
        <pilotControllerYAxisSensitivity>-100</pilotControllerYAxisSensitivity>
        <pilotControllerZAxisSensitivity>-75</pilotControllerZAxisSensitivity>
        <!-- the minimum amount of stick input to respond to, in percentage -->
        <pilotStickThresholdWhenOtherAxisUnused>5</pilotStickThresholdWhenOtherAxisUnused>
        <pilotStickThresholdWhenOtherAxisFull>10</pilotStickThresholdWhenOtherAxisFull>
        <pilotTranslationalAxisExponent>1</pilotTranslationalAxisExponent>
        <pilotRotationalAxisExponent>2</pilotRotationalAxisExponent>

        <translationAutoPilotButton type="int">6</translationAutoPilotButton>
        <lockChassisButtonPort type="int">10</lockChassisButtonPort>
        <rotationAutoPilotButton type="int">9</rotationAutoPilotButton>
    </control-XBOX>

    <control-XBOX_LEFT_HANDED>
        <controllerPort type="int">1</controllerPort>
        <xAxisPort type="int">0</xAxisPort>
        <yAxisPort type="int">1</yAxisPort>
        <zAxisPort type="int">4</zAxisPort>

        <pilotControllerXAxisSensitivity>100</pilotControllerXAxisSensitivity>
        <pilotControllerYAxisSensitivity>-100</pilotControllerYAxisSensitivity>
        <pilotControllerZAxisSensitivity>-75</pilotControllerZAxisSensitivity>
        <!-- the minimum amount of stick input to respond to, in percentage -->
        <pilotStickThresholdWhenOtherAxisUnused>2</pilotStickThresholdWhenOtherAxisUnused>
        <pilotStickThresholdWhenOtherAxisFull>5</pilotStickThresholdWhenOtherAxisFull>
        <pilotTranslationalAxisExponent>1</pilotTranslationalAxisExponent>
        <pilotRotationalAxisExponent>2</pilotRotationalAxisExponent>

        <translationAutoPilotButton type="int">6</translationAutoPilotButton>
        <lockChassisButtonPort type="int">9</lockChassisButtonPort>
        <rotationAutoPilotButton type="int">10</rotationAutoPilotButton>
    </control-XBOX_LEFT_HANDED>
</robotConfig>